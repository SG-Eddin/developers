{"version":3,"sources":["webpack:///./src/components/MyApps/AppList.Code.js","webpack:///./src/components/MyApps/AppList.Details.js","webpack:///./src/components/MyApps/EditModal.js","webpack:///./src/pages/myapps/detail.js","webpack:///./src/images/myapps-bg.svg","webpack:///./src/utilities/isValidUrl.js","webpack:///./src/images/error-icon.svg","webpack:///./src/images/configuratorBg.svg","webpack:///./src/images/success-icon.svg","webpack:///./src/components/MyApps/Configurator/CopyButton.jsx","webpack:///./src/images/copy-icon.svg","webpack:///./src/components/UportVerification.js","webpack:///./src/helpers/copyToClipboard.js"],"names":["installCodeServer","installCodeClient","initServerCode","appName","network","replace","initClientCode","requestCredentials","attestCredentials","createDisclosureRequest","issueAttestation","Wrapper","styled","div","withConfig","displayName","componentId","Step","Number","Label","label","Content","Scrollable","medium","Code","code","Pre","pre","CodeContainer","AppCode","React","Component","[object Object]","args","super","defineProperty_default","this","str","id","copyToClipboard","track","value","name","properties","source","render","currentApp","props","environment","configuration","react_default","a","createElement","className","CopyButton","onCopy","handleCopy","grid","span","url","description","accentColor","style","backgroundColor","profileImage","bgImageStyle","Modal","show","Backdrop","verifying","ModalContent","CTAButton","button","p","LabelRow","Subtle","Tooltip","img","Hotspot","Popover","Body","Header","h5","ColorPicker","PopOver","Cover","UploadProgress","spin","EditModal","constructor","onClose","setState","colorPicker","state","appURL","validUrl","isValidHttpsUrl","ev","preventDefault","appNameValid","uportApps","app","ipfsLogoHash","bannerImage","ipfsBgHash","appDescription","Object","keys","forEach","key","claim","appIndex","uport-apps","sendVerificationModal","setCurrentApp","saveApps","cancelModal","file_name","file_type","formSubmitted","duplicateAppName","isUploading","uportAppNames","map","isBgImageUploading","handleAppNameChange","bind","handleAppURLChange","handleAppImageChange","handleAccentColorChange","handleBgImageUpload","handleSubmit","componentDidUpdate","prevProps","prevState","txtAppName","focus","txtAppURL","e","target","indexOf","handleAppDescriptionChange","photo","files","addFile","then","result","Hash","console","log","catch","err","hex","regenerator_default","async","_context2","prev","next","abrupt","Promise","resolve","reject","canvas","ctx","_context","document","getElementById","getContext","fillStyle","fillRect","width","height","toBlob","blob","stop","children","backgroundImage","myAppsBg","Fragment","onClick","handleClose","onSubmit","htmlFor","type","placeholder","onChange","ref","r","src","errorIcon","onBlur","validateAppURL","rows","cols","toggleColorPicker","lib","color","title","length","slice","visibility","hideColorPicker","disabled","UportVerification","hideUportVerificationModal","AppDetail","tabId","tab","editModal","componentDidMount","window","location","search","match","profile","history","push","layout","Helmet_default","config","siteTitle","AppManagerHeadContainer","activeCategory","categories","data","navCategories","Tabbar","Tab","active","changeTab","BodyContainer","showEditModal","float","gatsby_browser_entry","to","AppList_Details","AppList_Code","MyApps_EditModal","hideEditModal","Container","small","theme","brand","propTypes","PropTypes","object","isRequired","AppDetailContainer","connect","dispatch","index","actions","apps","query","extends_default","_3581675974","module","exports","__webpack_require__","d","__webpack_exports__","regex","RegExp","isValidUrl","test","Button","copied","copyIcon","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default","setTimeout","react__WEBPACK_IMPORTED_MODULE_1___default","ButtonClose","Refresh","QRWrapper","LoadingIcon","isLoading","getSavedProfile","getUPortVerification","messages","getUPortMessages","initCredentials","sendVerification","verifyCredentials","token","requestId","shortId","generate","qrData","waiting","isPush","qrImage","imageSync","toString","href","reloadImg","loadingImg","el","setAttribute","position","left","body","appendChild","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange"],"mappings":"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","file":"component---src-pages-myapps-detail-js-1a84281861afe0873a87.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\n\nimport CopyButton from './Configurator/CopyButton'\nimport { Container, Grid, Col, Spacer, medium } from '../../layouts/grid'\nimport copyToClipboard from '../../helpers/copyToClipboard'\nimport track, { trackPage } from '../../utilities/track'\n\nconst installCodeServer =\n`npm init\nnpm install --save uport-credentials`\n\nconst installCodeClient =\n`npm init\nnpm install --save uport-connect@1.1.0-alpha.12`\n\nconst initServerCode = (appName, network) =>\n`import { Credentials } from \"uport-credentials\"\n\nconst uport = new Credentials('${appName}', {\n  network: \"${network}\",\n  privateKey: \"<private key>\"\n})`.replace(/ +network: \"none\",\\n/g, '')\n\nconst initClientCode = (appName, network) =>\n`import { Connect } from \"uport-connect\"\n\nconst uport = new Connect('${appName}', {\n  network: \"${network}\"\n})`.replace(/ +network: \"none\",\\n/g, '')\n\nconst requestCredentials =\n`// Request credentials to login\nuport.requestCredentials({\n  requested: [\"name\", \"phone\", \"country\"},\n  notifications: true // We want this if we want to recieve credentials\n})\n.then((credentials) => {\n  //Do something\n})`\n\nconst attestCredentials =\n`// Attest specific credentials\nuport.attestCredentials({\n  sub: THE_RECEIVING_UPORT_ADDRESS,\n  claim: {\n    name: \"value\"\n  },\n  exp: new Date().getTime() + 30 * 24 * 60 * 60 * 1000 // 30 days\n})`\n\nconst createDisclosureRequest =\n`// in an express application\napp.get(\"/\", () => {\n  credentials.createDisclosureRequest({\n    notifications: true,\n    callbackUrl: \"/callback\"\n  }).then(requestToken => {\n    // Do something\n  })\n})\n\napp.post(\"/callback\", (req, res) => {\n  const jwt = req.body.access_token\n  // Do something with the jwt\n})`\n\nconst issueAttestation =\n`// in an express application\nimport { transport } from \"uport-transports\"\n\napp.get(\"/\", () => {\n  credentials.createDisclosureRequest({\n    notifications: true,\n    callbackUrl: \"/callback\"\n  }).then(requestToken => {\n    // Do something\n  })\n})\napp.post(\"/callback\", (req, res) => {\n  const jwt = req.body.access_token\n  credentials.authenticateDisclosureResponse(jwt).then(creds => {\n    const did = creds.did\n    const pushToken = creds.pushToken\n    const pubEncKey = creds.boxPub\n    const push = transports.push.send(creds.pushToken, pubEncKey)\n    credentials.createVerification({\n      sub: did,\n      exp: Time30Days(),\n      claim: {\n        \"My Title\" : {\n          \"KeyOne\" : \"ValueOne\",\n          \"KeyTwo\" : \"Value2\",\n          \"Last Key\" : \"Last Value\"\n        }\n      }\n      // Note, the above is a complex claim. Also supported are simple claims:\n      // claim: {\"Key\" : \"Value\"}\n    }).then(att => {\n      return push(att)\n    })\n})`\n\nclass AppCode extends React.Component {\n  handleCopy = (str, id) => () => {\n    copyToClipboard(str);\n    this.track('App Code Copied', {\n      value: str\n    })\n  }\n  track = (name, properties={}) => {\n    track(name, {\n      source: 'App Details',\n      ...properties\n    })\n  }\n  render() {\n    const { currentApp } = this.props\n    const { environment } = currentApp.configuration;\n    return (<Wrapper>\n      {environment !== \"server\"\n        ? <div>\n          {!environment && <h3>Client Apps</h3>}\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>1</Step.Number>\n              <Step.Label>Install Libraries</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(installCodeClient)}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {installCodeClient}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>2</Step.Number>\n              <Step.Label>Initialize uPort Connect</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(initClientCode(\n                    currentApp.name,\n                    currentApp.configuration.network\n                  ))}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {initClientCode(\n                          currentApp.name,\n                          currentApp.configuration.network\n                        )}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>3</Step.Number>\n              <Step.Label>Request Credentials</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(requestCredentials)}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {requestCredentials}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>4</Step.Number>\n              <Step.Label>Attest Credentials</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(attestCredentials)}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {attestCredentials}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n        </div>\n        : null}\n      {environment !== \"client\"\n        ? <div>\n          {!environment && <h3>Server Apps</h3>}\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>1</Step.Number>\n              <Step.Label>Install Libraries</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(installCodeServer)}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {installCodeServer}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>2</Step.Number>\n              <Step.Label>Initialize Credentials</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(initServerCode(\n                    currentApp.name,\n                    currentApp.configuration.network\n                  ))}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {initServerCode(\n                          currentApp.name,\n                          currentApp.configuration.network\n                        )}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>3</Step.Number>\n              <Step.Label>Create Disclosure Request</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(createDisclosureRequest)}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {createDisclosureRequest}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n          <div className='detailsContainer'>\n            <Step>\n              <Step.Number>4</Step.Number>\n              <Step.Label>Issue Attestation</Step.Label>\n              <Step.Content>\n                <CopyButton\n                  onCopy={this.handleCopy(issueAttestation)}>\n                  Copy\n                </CopyButton>\n                <Scrollable>\n                  <CodeContainer>\n                    <Pre>\n                      <Code>\n                        {issueAttestation}\n                      </Code>\n                    </Pre>\n                  </CodeContainer>\n                </Scrollable>\n              </Step.Content>\n            </Step>\n          </div>\n        </div>\n        : null}\n    </Wrapper>)\n  }\n}\nconst Wrapper = styled.div`\n  .detailsContainer {\n    margin-bottom: 20px;\n    p {\n      font-size: 16px;\n      font-weight: normal;\n      margin: 20px 0;\n    }\n  }\n`\nconst Step = styled.div`\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 35px 1fr;\n  grid-template-rows: auto auto;\n`\nStep.Number = styled.div`\n  background: #62b482;\n  border-radius: 50%;\n  color: #fff;\n  font-size: 14px;\n  font-weight: 700;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  width: 30px;\n`\nStep.Label = styled.label`\n  color: #3f3d4b;\n  font-weight: 800;\n  font-size: 16px;\n  line-height: 30px;\n  text-transform: none;\n`\nStep.Content = styled.div`\n  grid-area: 2 / 1 / 3 / 3;\n  overflow: auto;\n  position: relative;\n`\nconst Scrollable = styled.div`\n  background: #f5f5fa;\n  border: solid 1px #e3e3e4;\n  border-radius: 4px;\n  box-shadow: 0 0 4px 0 inset #e3e3e4;\n  overflow: auto;\n  ${medium(`\n    height: 200px;\n  `)}\n`\nconst Code = styled.code``\nconst Pre = styled.pre`\n  color: #606061;\n  margin: 0;\n  overflow: visible;\n  padding: 40px 20px 20px;\n`\nconst CodeContainer = styled.div`\n  border-radius: 4px;\n  overflow: visible;\n`\n\nexport default AppCode\n\n","import React from 'react'\nimport { Grid, Col } from '../../layouts/grid'\n\nexport default props => (<div className='detailsContainer'>\n  <Grid>\n    <Col span={6}>\n      <div className='field'>\n        <h4 className='label'>App Name</h4>\n        <p>{props.currentApp.name}</p>\n      </div>\n      {props.currentApp.configuration.url\n        ? <div className='field'>\n          <h4 className='label'>URL Address</h4>\n          <p>{props.currentApp.configuration.url}</p>\n        </div>\n        : null\n      }\n      {props.currentApp.configuration.description\n        ? <div className='field'>\n          <h4 className='label'>App Description</h4>\n          <p>{props.currentApp.configuration.description}</p>\n        </div>\n        : null\n      }\n      {props.currentApp.configuration.accentColor\n        ? <div className='field'>\n          <h4 className='label'>App Accent Color</h4>\n          <p>{props.currentApp.configuration.accentColor}</p>\n        </div>\n        : null\n      }\n    </Col>\n    <Col span={6}>\n      <div className='previewContainer'>\n        <div className='appItem'>\n          <div className='appCover' style={{backgroundColor: props.currentApp.configuration.accentColor || '#5c54c7'}}>&nbsp;</div>\n          <div className={'avatar ' + (props.currentApp.configuration.profileImage ? 'uploaded' : 'default')}\n            style={props.bgImageStyle}>&nbsp;</div>\n          <h3>{props.currentApp.name}</h3>\n          <span>{props.currentApp.configuration.network}</span>\n        </div>\n        <p>This is how users see your app in their uPort mobile app.</p>\n      </div>\n    </Col>\n  </Grid>\n</div>)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport SendVerificationModal from '../UportVerification'\nimport lightPatternBg from '../../images/configuratorBg.svg'\nimport myAppsBg from '../../images/myapps-bg.svg'\nimport successImage from '../../images/success-icon.svg'\nimport errorIcon from '../../images/error-icon.svg'\nimport loadingIcon from '../../images/loading.svg'\nimport { ChromePicker } from 'react-color'\nimport { Grid, Col, Spacer, medium } from '../../layouts/grid'\nimport { default as track, trackPage } from '../../utilities/track'\nimport { isValidHttpsUrl } from '../../utilities/isValidUrl'\nimport { addFile } from '../../utilities/ipfs'\nimport spin from '../../utilities/spinanim'\nimport '../../layouts/css/myapps.css'\n\nclass EditModal extends React.Component {\n  constructor(props) {\n    super(props)\n    let appURL = props.app.appURL\n      ? `https://${props.app.appURL}`\n      : 'https://'\n    this.state = {\n      appName: props.app.name,\n      appURL,\n      appDescription: props.app.configuration.description,\n      cancelModal: false,\n      colorPicker: false,\n      file_name: null,\n      file_type: null,\n      profileImage: props.app.configuration.profileImage,\n      ipfsLogoHash: null,\n      ipfsBgHash: null,\n      accentColor: props.app.configuration.accentColor || '#5C50CA',\n      appNameValid: true,\n      formSubmitted: false,\n      duplicateAppName: false,\n      validUrl: appURL === \"https://\" || isValidHttpsUrl(appURL),\n      isUploading: false,\n      uportAppNames: props.uportApps.map(app => app.name),\n      isBgImageUploading: false,\n      sendVerificationModal: false,\n      claim: null\n    }\n    this.handleAppNameChange = this.handleAppNameChange.bind(this)\n    this.handleAppURLChange = this.handleAppURLChange.bind(this)\n    this.handleAppImageChange = this.handleAppImageChange.bind(this)\n    this.handleAccentColorChange = this.handleAccentColorChange.bind(this)\n    this.handleBgImageUpload = this.handleBgImageUpload.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { appNameValid, validUrl } = this.state\n    if(!appNameValid && prevState.appNameValid) {\n      this.txtAppName.focus();\n    } else if(!validUrl && prevState.validUrl) {\n      this.txtAppURL.focus();\n    }\n  }\n  handleClose = () => {\n    this.props.onClose()\n  }\n  hideColorPicker = () => {\n    this.setState({ colorPicker: false })\n  }\n  toggleColorPicker = () => {\n    this.setState({ colorPicker: !this.state.colorPicker })\n  }\n  handleAppNameChange (e) {\n    this.setState({appName: e.target.value})\n    this.setState({\n      appNameValid: !(e.target.value === '' || (this.state.uportAppNames.indexOf(e.target.value) >= 0 && this.state.uportAppNames.indexOf(e.target.value) !== this.props.appIndex)),\n      duplicateAppName: (this.state.uportAppNames.indexOf(e.target.value) >= 0 && this.state.uportAppNames.indexOf(e.target.value) !== this.props.appIndex)\n    })\n  }\n  handleAppURLChange (e) {\n    this.setState({\n      appURL: e.target.value\n    })\n  }\n  validateAppURL = () => {\n    const { appURL='' } = this.state\n    if(appURL === 'https://')\n      this.setState({ validUrl: true })\n    else\n      this.setState({ validUrl: !appURL || isValidHttpsUrl(appURL) })\n  }\n  handleAppDescriptionChange (e) {\n    this.setState({appDescription: e.target.value})\n  }\n  handleAppImageChange (e) {\n    const photo = e.target.files[0]\n    this.setState({ isUploading: true })\n    const result = addFile(photo).then(result => {\n      this.setState({\n        ipfsLogoHash: result.Hash,\n        profileImage: `/ipfs/${result.Hash}`,\n        isUploading: false\n      })\n      console.log(`Uploaded profileImage: https://ipfs.io/ipfs/${result.Hash}`)\n    }).catch(err => {\n      console.log('Upload failed')\n      this.setState({ isUploading: false })\n    })\n  }\n  handleAccentColorChange (accentColor) {\n    this.setState({ accentColor: accentColor.hex || accentColor })\n  }\n  async handleBgImageUpload () {\n    // Generate image from accentColor and upload to IPFS\n    this.setState({ isBgImageUploading: true })\n    return new Promise(async (resolve, reject) => {\n      let canvas = document.getElementById('canvas')\n      let ctx = canvas.getContext('2d')\n      ctx.fillStyle = this.state.accentColor\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n      canvas.toBlob(blob => {\n        addFile(blob).then(result => {\n          this.setState({\n            ipfsBgHash: result.Hash,\n            isBgImageUploading: false\n          })\n          resolve(result.Hash)\n        })\n      })\n    })\n  }\n  handleSubmit = ev => {\n    if(ev && ev.preventDefault)\n      ev.preventDefault()\n    if (this.state.appNameValid && this.state.validUrl) {\n      let uportApps = this.props.uportApps || {}\n      const configuration = {\n        network: this.props.app.configuration.network != 'none'\n          ? this.props.app.configuration.network\n          : '',\n        environment: this.props.app.configuration.environment,\n        accentColor: this.state.accentColor,\n        profileImage: this.state.ipfsLogoHash\n          ? '/ipfs/' + this.state.ipfsLogoHash\n          : this.state.profileImage || '',\n        bannerImage: this.state.ipfsBgHash\n          ? '/ipfs/' + this.state.ipfsBgHash\n          : '',\n        url: this.state.appURL.replace(/^https:\\/\\//, ''),\n        description: this.state.appDescription\n      }\n      Object.keys(configuration).forEach(key => {\n        configuration[key] || delete configuration[key]\n      })\n      let claim = {\n        name: this.state.appName,\n        configuration\n      }\n      if (this.props.uportApps) {\n        uportApps[this.props.appIndex] = claim\n        claim = {'uport-apps': uportApps}\n      } else {\n        claim = {'uport-apps': [claim]}\n      }\n      this.props.onClose()\n\n      // try {\n      //   uPortConnect.sendVerification({\n      //     sub: this.props.profile.did,\n      //     claim\n      //   }, 'EDIT-APP', {\n      //     notifications: true\n      //   })\n      //   uPortConnect.onResponse('EDIT-APP').then(payload => {\n      //     this.props.setCurrentApp(uportApps[this.props.appIndex], this.props.appIndex)\n      //     this.props.saveApps(uportApps)\n      //   })\n      // } catch (e) {\n      //   console.log(e)\n      // }\n      this.setState({\n        claim,\n        sendVerificationModal: true\n      })\n      this.props.setCurrentApp(uportApps[this.props.appIndex], this.props.appIndex)\n      this.props.saveApps(uportApps)\n    }\n  }\n  hideUportVerificationModal = () => {\n    this.setState({\n      claim: null,\n      sendVerificationModal: false\n    })\n  }\n  render() {\n    const { app, uportApps, children, show } = this.props\n    const { isUploading, isBgImageUploading, validUrl, claim, sendVerificationModal } = this.state\n    const bgImageStyle = {backgroundImage: this.state.profileImage\n      ? `url(https://ipfs.io${this.state.profileImage})`\n      : `url(${myAppsBg})`}\n    return (<React.Fragment>\n      <Modal show={show}>\n        <Backdrop />\n        <Content>\n          <a className='returnLink' onClick={this.handleClose}>Cancel</a>\n          <h1>Edit App Details</h1>\n\n          <ModalContent>\n            <form onSubmit={this.handleSubmit}>\n              <Grid>\n                <Spacer span={1} />\n                <Col span={10}>\n                <label htmlFor='appName'>App Name</label>\n                <div className={(!this.state.appNameValid) ? 'fieldError' : ''}>\n                  <input\n                    type='text'\n                    id='appName'\n                    placeholder='Give your app a name'\n                    value={this.state.appName}\n                    onChange={this.handleAppNameChange}\n                    ref={r => this.txtAppName=r} />\n                    {(!this.state.appNameValid) &&\n                      <span className='error'>\n                        <img src={errorIcon} />\n                        {this.state.duplicateAppName\n                          ? 'App name already in use'\n                          : 'App name is required'\n                        }\n                      </span>\n                    }\n                </div>\n              </Col>\n              <Spacer span={1} />\n              <Spacer span={1} />\n              <Col span={10}>\n                <LabelRow>\n                  <label htmlFor='appURL'>\n                    URL Address {\" \"}\n                    <Subtle>(optional)</Subtle>\n                  </label>\n                  <Tooltip>\n                    <Tooltip.Hotspot>?</Tooltip.Hotspot>\n                    <Tooltip.Popover>\n                      <Tooltip.Body>\n                        <Tooltip.Header>Why we ask for URL address?</Tooltip.Header>\n                        <p>\n                          Providing a URL can help establish trust with\n                          your application. Following registration, we include\n                          instructions for verifying ownership of your domain.\n                        </p>\n                      </Tooltip.Body>\n                    </Tooltip.Popover>\n                  </Tooltip>\n                </LabelRow>\n                <div className={!this.state.validUrl ? 'fieldError' : ''}>\n                  <input\n                    type='text'\n                    id='appURL'\n                    placeholder='https://yourapphomepage.com'\n                    value={this.state.appURL}\n                    onChange={this.handleAppURLChange}\n                    onBlur={this.validateAppURL}\n                    ref={r => this.txtAppURL=r} />\n                  {validUrl ||\n                    <span className='error'>\n                      <img src={errorIcon} />\n                      Invalid URL\n                    </span>}\n                  </div>\n                </Col>\n                <Spacer span={1} />\n                <Spacer span={1} />\n                <Col span={10}>\n                  <label htmlFor='appDescription'>\n                    App Description {\" \"}\n                    <Subtle>(optional)</Subtle>\n                  </label>\n                  <textarea\n                    rows='4'\n                    cols='50'\n                    placeholder='Describe what your app can do...'\n                    value={this.state.appDescription}\n                    onChange={(e) => { this.handleAppDescriptionChange(e) }} />\n                </Col>\n                <Spacer span={1} />\n                <Spacer span={1} />\n                <Col span={5}>\n                  <Grid className='appBranding Grid'>\n                    <Col span={12} className='Grid-cell brandingSettings'>\n                      <h4>App Branding</h4>\n                    </Col>\n                    <Col span={12}>\n                      <div className='colorPicker'>\n                        <label htmlFor='accentColor'>App Accent Color</label>\n                        <input type='text'\n                          id='accentColor'\n                          placeholder='#5C50CA'\n                          value={this.state.accentColor}\n                          onChange={e => this.handleAccentColorChange(e.target.value)} />\n                        <ColorPicker>\n                          <button className='colorPreview' type='button'\n                            style={{backgroundColor: this.state.accentColor}}\n                            onClick={this.toggleColorPicker} />\n\n                          {this.state.colorPicker\n                            ? <ColorPicker.PopOver>\n                                <ChromePicker color={this.state.accentColor}\n                                  onChange={this.handleAccentColorChange} />\n                            </ColorPicker.PopOver>\n                            : null}\n\n                        </ColorPicker>\n                      </div>\n                    </Col>\n                    <Col span={12}>\n                      <div className='appImage'>\n                        <label htmlFor='appImage'>App Profile Image</label>\n                        {isUploading\n                          ? <UploadProgress>Uploading Photo ...</UploadProgress>\n                          : <div className='fileUpload'>\n                            <span>Upload Image</span>\n                            <input type='file'\n                              className='upload'\n                              onChange={this.handleAppImageChange} />\n                          </div>\n                        }\n                      </div>\n                    </Col>\n                  </Grid>\n                </Col>\n                <Col span={3}>\n                  <div className='Grid-cell brandingPreview'>\n                    <div className='appItem'>\n                      <div className='appCover' style={{backgroundColor: this.state.accentColor}}>&nbsp;</div>\n                      <div className={'avatar ' + (this.state.profileImage ? 'uploaded' : 'default')} style={bgImageStyle}>\n                        &nbsp;\n                      </div>\n                      <h3 title={this.state.appName || 'App Name'}>\n                        {this.state.appName\n                          ? this.state.appName.length > 32\n                            ? `${this.state.appName.slice(0, 32)}...`\n                            : this.state.appName\n                          : 'App Name'}\n                      </h3>\n                      <span>{this.props.app.configuration.network}</span>\n                    </div>\n                  </div>\n                </Col>\n                <Col span={2}>\n                  <canvas width='100' height='100' id='canvas' style={{visibility: 'hidden'}} />\n                </Col>\n                <Spacer span={1} />\n              </Grid>\n              {this.state.colorPicker ? <ColorPicker.Cover onClick={ this.hideColorPicker } /> : null}\n              <hr />\n              <CTAButton onClick={this.handleSubmit}\n                className={this.state.appNameValid && this.state.validUrl &&\n                  !isUploading && !isBgImageUploading ? '' : 'disabled'}\n                disabled={isUploading || isBgImageUploading}\n              >\n                SAVE CHANGES\n              </CTAButton>\n            </form>\n          </ModalContent>\n        </Content>\n      </Modal>\n      <SendVerificationModal\n        show={claim && sendVerificationModal}\n        onClose={this.hideUportVerificationModal}\n        claim={claim} />\n    </React.Fragment>)\n  }\n}\n\nconst Modal = styled.div`\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  transition: opacity 0.5s, visibility 0.5s;\n  z-index: 900;\n  ${props => props.show\n    ? `\n      opacity: 1;\n      visibility: visible;\n    `\n    : `\n      opacity: 0;\n      visibility: hidden;\n    `}\n`\nconst Backdrop = styled.div`\n  background: rgba(249, 249, 250, 0.88);\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 910;\n`\nconst Content = styled.div`\n  max-height: calc(100vh - 40px);\n  left: 50%;\n  position: relative;\n  top: 50%;\n  transform: translateX(-50%) translateY(-55%);\n  z-index: 920;\n  ${props => props.verifying ? '' : 'width: 80vw;'}\n  ${medium(`\n    ${props => props.verifying ? '' : 'width: 70vw;'}\n  `)}\n\n  h1 {\n    color: #3f3d4b;\n  }\n  h5 {\n    color: #3f3d4b;\n    font-size: 32px;\n    line-height: 44px;\n    text-align: center;\n  }\n  .returnLink {\n    float:right;\n    color: #8986A0;\n    margin: 10px 0 0;\n    text-decoration: none;\n    text-transform: uppercase;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 32px;\n    padding-right: 5px;\n    cursor: pointer;\n  }\n`\n\nconst ModalContent = styled.div`\n  max-height: 80vh;\n  background: #fff;\n  overflow-y: auto;\n  box-shadow: 0 0 10px rgba(139, 139, 139, 0.25);\n  padding: 40px 0;\n  ${props => props.verifying ? '' : 'width: 80vw;'}\n  ${medium(`\n    ${props => props.verifying ? '' : 'width: 70vw;'}\n  `)}\n`\n\nconst ButtonClose = styled.button`\n  background: none;\n  border: none;\n  color: #3f3d4b;\n  font-size: 2em;\n  padding: 0;\n  position: absolute;\n  right: 20px;\n  top: 20px;\n`\nconst Body = styled.div`\n  padding: 10px 20px 20px 20px;\n  ${medium(`\n    padding: 20px 60px 0 60px;\n  `)}\n`\nconst Info = styled.p`\n  color: #8986A0;\n  font-size: 16px;\n  line-height: 24px;\n  text-align: center;\n`\nconst Footer = styled.div`\n  padding: 0 20px 30px 20px;\n  ${medium(`\n    padding: 10px 60px 40px 60px;\n  `)}\n`\nconst CTAButton = styled.button`\n  background: linear-gradient(44.17deg, #5c50ca 0%, #7958d8 100%);\n  border-radius: 4px;\n  color: #fff;\n  display: block;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 24px;\n  padding: 20px;\n  text-align: center;\n  text-decoration: none;\n  width: 80%;\n  margin: 10px auto 0;\n  &.disabled {\n    opacity: 0.5;\n    cursor: default;\n  }\n`\nconst LabelRow = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 20px;\n`\nconst Subtle = styled.span`\n  font-weight: 400;\n  text-transform: none;\n`\nconst Tooltip = styled.div`\n  position: relative;\n  z-index: 2;\n`\n\nconst RetryButton = styled.button`\n  background: none;\n  border: solid 2px #5c50ca;\n  border-radius: 4px;\n  color: #5c50ca;\n  font-weight: 700;\n  padding: 20px;\n  width: 100%;\n`\nconst ResultIcon = styled.img`\n  display: block;\n  margin: -30px auto 20px;\n`\nconst ResultMessage = styled.p`\n  text-align: center;\n`\n\nTooltip.Hotspot = styled.div`\n  border: solid 1px #8986A0;\n  border-radius: 50%;\n  color: #8986A0;\n  cursor: pointer;\n  font-size: 10px;\n  height: 17px;\n  line-height: 17px;\n  position: relative;\n  text-align: center;\n  width: 17px;\n  z-index: 4;\n`\nTooltip.Popover = styled.div`\n  opacity: 0;\n  padding-top: 35px;\n  position: absolute;\n  right: -20px;\n  top: 0;\n  visibility: hidden;\n  transition: opacity 0.3s, visibility 0.3s;\n\n  ${Tooltip}:hover & {\n    opacity: 1;\n    visibility: visible;\n  }\n`\nTooltip.Body = styled.div`\n  background: #fcf2e5;\n  border: solid 1px #ffe1bd;\n  border-radius: 4px;\n  color: #5f5d68;\n  padding: 20px;\n  width: 237px;\n  &:before {\n    background: #fcf2e5;\n    border-left: solid 1px #ffe1bd;\n    border-bottom: solid 1px #ffe1bd;\n    content: \"\";\n    display: block;\n    height: 16px;\n    right: 24px;\n    position: absolute;\n    top: 28px;\n    transform: rotate(135deg);\n    width: 16px;\n    z-index: 3;\n  }\n  p {\n    font-size: 0.85em;\n    margin: 0;\n    padding: 0;\n  }\n`\nTooltip.Header = styled.h5`\n  border-bottom: solid 1px rgba(95, 93, 104, 0.5);\n  font-size: 0.8em;\n  margin: 0 0 10px;\n  padding: 0 0 5px;\n  text-transform: uppercase;\n`\nconst ColorPicker = styled.div`\n  position: relative;\n`\nColorPicker.PopOver = styled.div`\n  position: absolute;\n  right: 0;\n  top: 50px;\n  transform: translateX(-40%);\n  z-index: 2;\n`\nColorPicker.Cover = styled.div`\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n`\nconst UploadProgress = styled.div`\n  font-weight: 600;\n  padding: 20px 10px;\n  text-align: center;\n`\nconst Loading = styled.img`\n  ${spin}\n  margin: 0 0 0 10px;\n  width: 24px;\n`\n\nexport default EditModal\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { graphql, Link, StaticQuery } from 'gatsby'\n\nimport SiteHeader from '../../components/Layout/Header'\nimport Layout from '../../components/layout'\nimport { Container, Grid, Col, Spacer, small } from '../../layouts/grid'\nimport AppCode from '../../components/MyApps/AppList.Code'\nimport Details from '../../components/MyApps/AppList.Details'\nimport EditModal from '../../components/MyApps/EditModal'\nimport myAppsBg from '../../images/myapps-bg.svg'\nimport config from '../../../data/SiteConfig'\nimport * as actions from '../../actions'\nimport '../../layouts/css/myapps.css'\n\nclass AppDetail extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      tab: \"details\",\n      editModal: false\n    }\n  }\n  componentDidMount() {\n    if(window.location.search.match(/tab=code/g))\n      this.setState({ tab: 'code' })\n    if(!Object.keys(this.props.profile).length) {\n      this.props.history.push('/myapps') // TODO move to redirect saga\n    }\n  }\n  changeTab = tabId => () => {\n    if(this.state.tab != tabId)\n      this.setState({ tab: tabId })\n  }\n  hideEditModal = () => {\n    this.setState({ editModal: false })\n  }\n  showEditModal = () => {\n    this.setState({ editModal: true })\n  }\n  render () {\n    const { tab } = this.state\n    const bgImageStyle = (this.props.currentApp.configuration.profileImage\n      ? {backgroundImage: `url(https://ipfs.io${this.props.currentApp.configuration.profileImage})`}\n      : {backgroundImage: `url(${myAppsBg})`})\n    const { editModal } = this.state;\n    return (<Layout location={this.props.location}>\n      {Object.keys(this.props.profile).length\n      ? <div className='index-container myAppsWrap startBuilding'>\n        <Helmet title={config.siteTitle} />\n        <main className={editModal ? 'blurred' : ''}>\n          <AppManagerHeadContainer>\n            <SiteHeader\n              activeCategory={''}\n              location={this.props.location}\n              categories={this.props.data.navCategories} />\n          </AppManagerHeadContainer>\n          <div className='appDetailHeaderWrap'>\n            <Container>\n              <div className='appDetailHeader'>\n                <div className={'avatar ' + (this.props.currentApp.configuration.profileImage ? 'uploaded' : 'default')} style={bgImageStyle}>&nbsp;</div>\n                <h3>{this.props.currentApp.name}</h3>\n              </div>\n              <Tabbar>\n                <Container>\n                  <Grid>\n                    <Spacer span={1} />\n                    <Col span={10}>\n                      <Tab active={tab=='details'} onClick={this.changeTab('details')}>App Details</Tab>\n                      <Tab active={tab=='code'} onClick={this.changeTab('code')}>App Code</Tab>\n                    </Col>\n                    <Spacer span={1} />\n                  </Grid>\n                </Container>\n              </Tabbar>\n            </Container>\n          </div>\n          <BodyContainer>\n            <Grid>\n              <Spacer span={1} />\n              <Col span={10}>\n                <div className='returnLink' onClick={this.showEditModal}>Edit App Details</div>\n                <div className='returnLink' style={{float: 'left'}}>\n                  <Link to='/myapps/list'>&lt; My Apps List</Link>\n                </div>\n              </Col>\n              <Spacer span={1} />\n              <Spacer span={1} />\n              <Col span={10}>\n                {tab == 'details'\n                  ? <Details\n                      currentApp={this.props.currentApp}\n                      bgImageStyle={bgImageStyle} />\n                  : <AppCode currentApp={this.props.currentApp} />}\n              </Col>\n              <Spacer span={1} />\n            </Grid>\n          </BodyContainer>\n        </main>\n        <EditModal\n          app={this.props.currentApp}\n          profile={this.props.profile}\n          uportApps={this.props.profile.uportApps}\n          appIndex={this.props.appIndex}\n          setCurrentApp={this.props.setCurrentApp}\n          saveApps={this.props.saveApps}\n          show={editModal}\n          onClose={this.hideEditModal} />\n      </div>\n      : null}\n    </Layout>)\n  }\n}\n\nconst BodyContainer = styled(Container)`\n  background-color: #f9f9fa;\n  margin-top: 20px !important;\n  padding-bottom: 60px;\n  img {\n    max-width: 240px;\n    margin-top: 30px;\n  }\n  .detailsContainer {\n    box-shadow: 0px 0px 4px rgba(0,0,0, 0.25);\n    border-radius: 4px;\n    background-color: #fff;\n    padding: 40px;\n  }\n  .field {\n    border-bottom: 0.5px solid #dadada;\n    margin-bottom: 20px;\n  }\n  .field h4 {\n    text-transform: uppercase;\n    color: #8986A0;\n    font-size: 14px;\n    line-height: 19px;\n  }\n  .field p {\n    color: #3F3D4B;\n    font-size: 18px\n    line-height: 32px;\n    margin-bottom: 10px;\n    font-weight: 400;\n  }\n  .detailsContainer .appItem {\n    width: 45%;\n    height: 250px;\n    margin: 0 auto;\n    display: inline-block;\n    float: none;\n  }\n  .previewContainer {\n    text-align: center;\n    padding-top: 20px;\n  }\n  .previewContainer p {\n    text-align: center;\n    margin: 0 auto;\n    font-size: 16px;\n    line-height: 20px;\n    display: block;\n    margin-top: 30px;\n    width: 45%;\n  }\n  .returnLink {\n    float: right;\n    margin: 20px 0 0;\n    text-transform: uppercase;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 32px;\n    padding-right: 5px;\n    cursor: pointer;\n    &, & a {\n      color: #8986A0;\n      text-decoration: none;\n    }\n  }\n  ${small(`\n    .detailsContainer {\n      padding: 20px;\n    }\n  `)}\n`\nconst AppManagerHeadContainer = styled.div`\n  background: ${props => props.theme.brand}\n`\nconst Tabbar = styled.div`\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n`\nconst Tab = styled.button`\n  background: none\n  border: none;\n  color: #8986A0;\n  margin-right: 10px;\n  outline-width: 0.5px;\n  padding: 5px;\n  text-transform: uppercase;\n  ${props => props.active\n    ? `\n      color: #5C50CA;\n      &::after {\n        background: #5C50CA;\n        bottom: -5px;\n        content: \"\";\n        display: block;\n        height: 3px;\n        position: relative;\n      }\n    ` : ''}\n`\n\nconst query = graphql`\nquery AppDetailQuery {\n    allMarkdownRemark(\n      limit: 2000\n      filter: { frontmatter: { type: { eq: \"content\" }}}\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          excerpt\n          timeToRead\n          frontmatter {\n            title\n          }\n        }\n      }\n    }\n    navCategories:\n    allMarkdownRemark(\n      filter: { frontmatter: { category: { ne: null }, index: { ne: null }}}\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          headings {\n            value\n            depth\n          }\n          frontmatter {\n            category\n            index\n          }\n        }\n      }\n    }\n  }\n`\n\nAppDetail.propTypes = {\n  profile: PropTypes.object.isRequired,\n  currentApp: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = ({ profile, currentApp, appIndex }) => ({\n  profile,\n  currentApp,\n  appIndex\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentApp(app, index) {\n    dispatch(actions.setCurrentApp(app, index))\n  },\n  saveApps(apps) {\n    dispatch(actions.saveApps(apps))\n  }\n})\n\nconst AppDetailContainer = connect(mapStateToProps, mapDispatchToProps)(AppDetail)\n\nexport default (props => <StaticQuery\n  query={query}\n  render={data => <AppDetailContainer {...props} data={data} /> } />)\n","module.exports = __webpack_public_path__ + \"static/myapps-bg-0d771963a42d51e459192102dbd4f073.svg\";","//\n// Regular Expression for URL validation\n//\n// Author: Diego Perini\n// Updated: 2010/12/05\n// License: MIT\n//\n// Copyright (c) 2010-2013 Diego Perini (http://www.iport.it)\n//\n// Permission is hereby granted, free of charge, to any person\n// obtaining a copy of this software and associated documentation\n// files (the \"Software\"), to deal in the Software without\n// restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following\n// conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n// OTHER DEALINGS IN THE SOFTWARE.\n//\n// the regular expression composed & commented\n// could be easily tweaked for RFC compliance,\n// it was expressly modified to fit & satisfy\n// these test for an URL shortener:\n//\n//   http://mathiasbynens.be/demo/url-regex\n//\n// Notes on possible differences from a standard/generic validation:\n//\n// - utf-8 char class take in consideration the full Unicode range\n// - TLDs have been made mandatory so single names like \"localhost\" fails\n// - protocols have been restricted to ftp, http and https only as requested\n//\n// Changes:\n//\n// - IP address dotted notation validation, range: 1.0.0.0 - 223.255.255.255\n//   first and last IP address of each class is considered invalid\n//   (since they are broadcast/network addresses)\n//\n// - Added exclusion of private, reserved and/or local networks ranges\n//\n// - Made starting path slash optional (http://example.com?foo=bar)\n//\n// - Allow a dot (.) at the end of hostnames (http://example.com.)\n//\n// Compressed one-line versions:\n//\n// Javascript version\n//\n// /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\n//\n// PHP version\n//\n// _^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$_iuS\n//\nconst regex = RegExp(\n  \"^\" +\n    // protocol identifier\n    \"(?:(?:https?|ftp)://)\" +\n    // user:pass authentication\n    \"(?:\\\\S+(?::\\\\S*)?@)?\" +\n    \"(?:\" +\n      // IP address exclusion\n      // private & local networks\n      \"(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})\" +\n      \"(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})\" +\n      \"(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})\" +\n      // IP address dotted notation octets\n      // excludes loopback network 0.0.0.0\n      // excludes reserved space >= 224.0.0.0\n      // excludes network & broacast addresses\n      // (first & last IP address of each class)\n      \"(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])\" +\n      \"(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}\" +\n      \"(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))\" +\n    \"|\" +\n      // host name\n      \"(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)\" +\n      // domain name\n      \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*\" +\n      // TLD identifier\n      \"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\" +\n      // TLD may end with dot\n      \"\\\\.?\" +\n    \")\" +\n    // port number\n    \"(?::\\\\d{2,5})?\" +\n    // resource path\n    \"(?:[/?#]\\\\S*)?\" +\n  \"$\", \"i\"\n)\n\nconst isValidUrl = url => regex.test(url)\n\nexport const isValidHttpsUrl = url =>  /^https:\\/\\//.test(url) && isValidUrl(url)\n\nexport default isValidUrl\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjdweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjcgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjEgKDU3NTAxKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IkFwcC1NYW5hZ2VyIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXBwLURldGlhbHMtMS1Db3B5LTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MDkuMDAwMDAwLCAtNDAxLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTA5LjAwMDAwMCwgNDAxLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0LjEyMjc0MTksMC40OTYyOTE3NTkgTDI2LjM4MTcwNDksMjEuNTExNjU2OSBDMjYuNjU5OTg1MiwyMS45ODg3MDg4IDI2LjQ5ODg0ODksMjIuNjAxMDI2NSAyNi4wMjE3OTcsMjIuODc5MzA2OCBDMjUuODY4ODYxLDIyLjk2ODUxOTUgMjUuNjk0OTgwNiwyMy4wMTU1Mjc5IDI1LjUxNzkyNiwyMy4wMTU1Mjc5IEwxLDIzLjAxNTUyNzkgQzAuNDQ3NzE1MjUsMjMuMDE1NTI3OSAtMy44ODkxMTEyNmUtMTMsMjIuNTY3ODEyNyAtMy44OTAyMjE0OGUtMTMsMjIuMDE1NTI3OSBDLTMuODkwMjIxNDhlLTEzLDIxLjgzODQ3MzMgMC4wNDcwMDgzOTc4LDIxLjY2NDU5MyAwLjEzNjIyMTA5OSwyMS41MTE2NTY5IEwxMi4zOTUxODQxLDAuNDk2MjkxNzU5IEMxMi42NzM0NjQ0LDAuMDE5MjM5ODQ0NCAxMy4yODU3ODIxLC0wLjE0MTg5NjQgMTMuNzYyODM0LDAuMTM2MzgzODgzIEMxMy45MTE4Mzc3LDAuMjIzMzAyNjcgMTQuMDM1ODIzMSwwLjM0NzI4ODEyNCAxNC4xMjI3NDE5LDAuNDk2MjkxNzU5IFoiIGlkPSJUcmlhbmdsZS0yIiBmaWxsPSIjRDYzQTU5Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuNTQ2LDE1LjkxNiBMMTIsOSBMMTQuMTU2LDkuMDE0IEwxMy42MSwxNS45MTYgTDEyLjU0NiwxNS45MTYgWiBNMTIuMDk4LDE2Ljk1MiBMMTQuMDU4LDE2Ljk1MiBMMTQuMDU4LDE4Ljg4NCBMMTIuMDk4LDE4Ljg4NCBMMTIuMDk4LDE2Ljk1MiBaIiBpZD0iISIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"","module.exports = __webpack_public_path__ + \"static/configuratorBg-de05b82a1d22cb13d60f7d3c1f03e593.svg\";","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAiIGhlaWdodD0iOTAiIHZpZXdCb3g9IjAgMCA5MCA5MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQ1IDkwQzMzLjA2NTMgOTAgMjEuNjE5MyA4NS4yNTg5IDEzLjE4MDIgNzYuODE5OEM0Ljc0MTA2IDY4LjM4MDcgMCA1Ni45MzQ3IDAgNDVDMCAzMy4wNjUzIDQuNzQxMDYgMjEuNjE5MyAxMy4xODAyIDEzLjE4MDJDMjEuNjE5MyA0Ljc0MTA2IDMzLjA2NTMgMCA0NSAwQzU2LjkzNDcgMCA2OC4zODA3IDQuNzQxMDYgNzYuODE5OCAxMy4xODAyQzg1LjI1ODkgMjEuNjE5MyA5MCAzMy4wNjUzIDkwIDQ1QzkwIDU2LjkzNDcgODUuMjU4OSA2OC4zODA3IDc2LjgxOTggNzYuODE5OEM2OC4zODA3IDg1LjI1ODkgNTYuOTM0NyA5MCA0NSA5MFpNNDUgODFDNTQuNTQ3OCA4MSA2My43MDQ1IDc3LjIwNzIgNzAuNDU1OCA3MC40NTU4Qzc3LjIwNzIgNjMuNzA0NSA4MSA1NC41NDc4IDgxIDQ1QzgxIDM1LjQ1MjIgNzcuMjA3MiAyNi4yOTU1IDcwLjQ1NTggMTkuNTQ0MkM2My43MDQ1IDEyLjc5MjggNTQuNTQ3OCA5IDQ1IDlDMzUuNDUyMiA5IDI2LjI5NTUgMTIuNzkyOCAxOS41NDQyIDE5LjU0NDJDMTIuNzkyOCAyNi4yOTU1IDkgMzUuNDUyMiA5IDQ1QzkgNTQuNTQ3OCAxMi43OTI4IDYzLjcwNDUgMTkuNTQ0MiA3MC40NTU4QzI2LjI5NTUgNzcuMjA3MiAzNS40NTIyIDgxIDQ1IDgxWk0zNC42NSA0MS44NUw0MC41IDQ3LjY1NUw1NS4zNSAzMi44MDVDNTYuMjE2IDMyLjA3MzUgNTcuMzI2MiAzMS42OTU3IDU4LjQ1ODcgMzEuNzQ3M0M1OS41OTEyIDMxLjc5ODkgNjAuNjYyNCAzMi4yNzYxIDYxLjQ1ODMgMzMuMDgzM0M2Mi4yNTQyIDMzLjg5MDYgNjIuNzE2MSAzNC45Njg1IDYyLjc1MTYgMzYuMTAxNkM2Mi43ODcyIDM3LjIzNDcgNjIuMzkzNyAzOC4zMzk0IDYxLjY1IDM5LjE5NUw0My42NSA1Ny4xOTVDNDIuODA4OCA1OC4wMTk1IDQxLjY3NzkgNTguNDgxNCA0MC41IDU4LjQ4MTRDMzkuMzIyMSA1OC40ODE0IDM4LjE5MTIgNTguMDE5NSAzNy4zNSA1Ny4xOTVMMjguMzUgNDguMTk1QzI3LjYwNjMgNDcuMzM5NCAyNy4yMTI4IDQ2LjIzNDcgMjcuMjQ4NCA0NS4xMDE2QzI3LjI4MzkgNDMuOTY4NSAyNy43NDU4IDQyLjg5MDYgMjguNTQxNyA0Mi4wODMzQzI5LjMzNzYgNDEuMjc2MSAzMC40MDg4IDQwLjc5ODkgMzEuNTQxMyA0MC43NDczQzMyLjY3MzggNDAuNjk1NyAzMy43ODQgNDEuMDczNSAzNC42NSA0MS44MDVWNDEuODVaIiBmaWxsPSIjMzZCODdCIi8+Cjwvc3ZnPgo=\"","import React from 'react'\nimport styled from 'styled-components'\n\nimport copyIcon from '../../../images/copy-icon.svg'\n\nclass CopyButton extends React.Component {\n  state = {\n    copied: false\n  }\n  handleCopy = () => {\n    this.setState({ copied : true })\n    this.props.onCopy()\n    setTimeout(() => {\n      this.setState({ copied : false })\n    }, 1000)\n  }\n  render() {\n    const { copied } = this.state\n    return (<Button copied={copied} onClick={this.handleCopy}>\n      {copied ? 'Copied' : 'Copy'}\n    </Button>)\n  }\n}\n\nconst Button = styled.button`\n  background: #f5f5fa;\n  border-radius: 0 0 0 4px;\n  color: #979797;\n  display: flex;\n  font-size: 10px;\n  padding: 10px 10px 0;\n  position: absolute;\n  right: 1px;\n  text-transform: uppercase;\n  top: 1px;\n  ${props => props.copied ? 'color: #5c50ca;' : ''}\n  &:after {\n    content: \"\";\n    display: block;\n    height: 24px;\n    margin-left: 10px;\n    width: 24px;\n    ${props => props.copied\n      ? `\n        background: transparent;\n        content: \"\\\\2713\";\n        margin: 0 5px 0 0;\n      `\n      : `background: transparent url(${copyIcon}) no-repeat;`}\n  }\n`\n\nexport default CopyButton\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB4PSIwLjUiIHk9IjAuNSIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjRjhGOEY4IiBzdHJva2U9IiM5Nzk3OTciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxyZWN0IHg9IjMuNSIgeT0iMy41IiB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIGZpbGw9IiNGOEY4RjgiIHN0cm9rZT0iIzk3OTc5NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=\"","import React from 'react'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport shortId from 'shortid'\nimport qrImage from 'qr-image'\n\nimport * as actions from '../actions'\nimport { isLoading, getUPortVerification, getUPortMessages, getSavedProfile } from '../selectors'\nimport { medium } from '../layouts/grid'\nimport loadingImg from '../images/loading.svg'\nimport reloadImg from '../images/reload.svg'\nimport spin from '../utilities/spinanim'\n\nclass UportVerification extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      qrData: null,\n      waiting: false\n    }\n  }\n  componentDidMount() {\n    this.props.initCredentials()\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { data, show } = this.props\n    if(show && !prevProps.show) {\n      this.sendVerification()\n    } else if(data.url && data.url !== prevProps.data.url) {\n      if(!data.isPush) {\n        const pngBuffer = qrImage.imageSync(data.url, { type: 'png' })\n        const qrData = 'data:image/png;charset=utf-8;base64, ' + pngBuffer.toString('base64')\n        this.setState({ qrData })\n      } else {\n        this.handleClose()\n      }\n    }\n  }\n  sendVerification = () => {\n    const { claim } = this.props\n    const requestId = shortId.generate()\n    this.setState({ qrData: null, requestId })\n    this.props.sendVerification(requestId, this.props.profile, claim)\n  }\n  handleClose = () => {\n    this.setState({ qrData: null })\n    this.props.onClose()\n  }\n  render() {\n    const { qrData } = this.state\n    const { show, data } = this.props\n    const { url } = data\n    return (<Modal show={show}>\n      <Backdrop />\n      <Content>\n        <Wrapper>\n          <div>\n            <ButtonClose onClick={this.handleClose}>&times;</ButtonClose>\n          </div>\n          {qrData\n            ? <React.Fragment>\n              <div>\n                  <p>Scan this QR Code using the uPort App</p>\n                <QRWrapper>\n                  <a href={url} target='_blank'>\n                    <img className='qr' src={qrData} />\n                  </a>\n                </QRWrapper>\n                <p>Or tap to open in a mobile browser</p>\n              </div>\n              <Refresh onClick={this.sendVerification}>\n                <img src={reloadImg} />\n                Refresh\n              </Refresh>\n            </React.Fragment>\n            : <LoadingIcon src={loadingImg} />}\n        </Wrapper>\n      </Content>\n    </Modal>)\n  }\n}\n\nconst Modal = styled.div`\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  transition: opacity 0.5s, visibility 0.5s;\n  z-index: 900;\n  ${props => props.show\n    ? `\n      opacity: 1;\n      visibility: visible;\n    `\n    : `\n      opacity: 0;\n      visibility: hidden;\n    `}\n`\nconst Backdrop = styled.div`\n  background: rgba(249, 249, 250, 0.8);\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 910;\n`\nconst ButtonClose = styled.button`\n  background: none;\n  border: none;\n  color: #3f3d4b;\n  font-size: 2em;\n  position: absolute;\n  right: 10px;\n`\nconst Content = styled.div`\n  background: #fff;\n  box-shadow: 0 0 10px rgba(139, 139, 139, 0.25);\n  left: 50%;\n  padding: 0 10px;\n  position: relative;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  z-index: 920;\n  ${medium('width: 45vw;')}\n\n  p {\n    font-size: 1rem !important;\n    margin: 15px 0;\n    text-align: center;\n  }\n`\nconst Wrapper = styled.div`\n  align-items: center;\n  display: grid;\n  grid-template-rows: 50px 1fr 50px;\n  min-height: 80vh;\n  justify-items: center;\n`;\nconst Refresh = styled.button`\n  background: none;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9em;\n  padding: 10px 0;\n  & > img {\n    height: 14px;\n    margin-right: 5px;\n  }\n`;\nconst QRWrapper = styled.div`\n  align-items: center;\n  border: solid 1px #999;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  .qr {\n    border-radius: 8px;\n    margin: 10px 0;\n    max-width: 90vw;\n    ${medium(`\n      max-width: 38vw;\n      max-height: 50vh;\n    `)}\n  }\n`;\nconst LoadingIcon = styled.img`\n  ${spin}\n  height: 18px;\n  margin-left: 10px;\n  width: 18px;\n`;\n\nconst mapStateToProps = state => ({\n  isLoading: isLoading(state),\n  profile: getSavedProfile(state),\n  data: getUPortVerification(state),\n  messages: getUPortMessages(state)\n})\n\nconst mapDispatchToProp = dispatch => ({\n  initCredentials() {\n    dispatch(actions.initCredentials())\n  },\n  sendVerification(id, profile, claim) {\n    dispatch(actions.sendVerification(id, profile, claim))\n  },\n  verifyCredentials(token) {\n    dispatch(actions.verifyCredentials(token))\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProp)(UportVerification)\n","// https://gist.github.com/Chalarangelo/4ff1e8c0ec03d9294628efbae49216db#file-copytoclipboard-js\n\nconst copyToClipboard = str => {\n  const el = document.createElement('textarea')  // Create a <textarea> element\n  el.value = str                                 // Set its value to the string that you want copied\n  el.setAttribute('readonly', '')                // Make it readonly to be tamper-proof\n  el.style.position = 'absolute'\n  el.style.left = '-9999px'                      // Move outside the screen to make it invisible\n  document.body.appendChild(el)                  // Append the <textarea> element to the HTML document\n  const selected =\n    document.getSelection().rangeCount > 0        // Check if there is any content selected previously\n      ? document.getSelection().getRangeAt(0)     // Store selection if found\n      : false                                    // Mark as false to know no selection existed before\n  el.select()                                    // Select the <textarea> content\n  document.execCommand('copy')                   // Copy - only works as a result of a user action (e.g. click events)\n  document.body.removeChild(el)                  // Remove the <textarea> element\n  if (selected) {                                 // If a selection existed before copying\n    document.getSelection().removeAllRanges()    // Unselect everything on the HTML document\n    document.getSelection().addRange(selected)   // Restore the original selection\n  }\n}\n\nexport default copyToClipboard\n"],"sourceRoot":""}